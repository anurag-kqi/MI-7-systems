Debugging session Sat morning:
1. update for the first record is updating the last record in the file
2. Don't do anything that you don't understand. Be careful with each system call. The issue seems to be that you were always updating the last record.
3. Don't allow any code that is not needed ever.
